# ============================================================================
# ENVIRONMENT VARIABLES TEMPLATE
# Copy this file to .env and .env.local for development
# NEVER commit actual secrets to version control
# ============================================================================

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# Platform: Neon PostgreSQL (https://neon.tech)
# Free tier available for development
# Production: Use Neon paid tier with auto-scaling

# Get your connection string from: https://console.neon.tech/app/projects
# Format: postgresql://[user]:[password]@[host]/[database]?sslmode=require&channel_binding=require
# SSL/channel binding REQUIRED for Neon serverless
DATABASE_URL="postgresql://user:password@project-region.neon.tech/dbname?sslmode=require&channel_binding=require"

# ============================================================================
# LLM CONFIGURATION
# ============================================================================
# Platform: Google Gemini API
# Get your key from: https://console.cloud.google.com/
# Model: gemini-2.5-flash (configured in orchestrator_spec.yml)
# Minimum 32 characters
GEMINI_API_KEY="your_gemini_api_key_here"

# ============================================================================
# AUTHENTICATION & SECURITY
# ============================================================================
# Better Auth + JWT configuration
# Generate new secrets with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# Must be at least 32 characters

# JWT secret for token signing (used by Better Auth)
JWT_SECRET="your-super-secret-jwt-key-change-in-production-min-32-chars"

# Token expiration time
JWT_EXPIRES_IN=24h

# ============================================================================
# APPLICATION URLS
# ============================================================================
# Frontend URL (used in public contexts, visible to client)
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Auth service URL (backend)
AUTH_BASE_URL=http://localhost:3000

# ============================================================================
# OAUTH PROVIDERS (Optional)
# ============================================================================
# Only configure if implementing Google OAuth
# Get credentials from: https://console.cloud.google.com/
GOOGLE_CLIENT_ID="your-google-client-id"
GOOGLE_CLIENT_SECRET="your-google-client-secret"

# ============================================================================
# CORS & SECURITY
# ============================================================================
# Comma-separated list of allowed origins
# Development: http://localhost:3000,http://localhost:3001
# Production: https://your-domain.com
ALLOWED_ORIGINS="http://localhost:3000,http://localhost:3001"

# Node environment
NODE_ENV=development

# ============================================================================
# EMAIL CONFIGURATION (Optional)
# ============================================================================
# Only needed for password reset emails
# Uncomment and configure if using email verification

# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-app-password
# EMAIL_FROM=noreply@example.com

# ============================================================================
# CLOUDFLARE R2 STORAGE (Required for Production)
# ============================================================================
# Platform: Cloudflare R2 (S3-compatible object storage)
# Get credentials from: https://dash.cloudflare.com/ > R2 > Manage R2 API Tokens
# Zero egress fees - recommended for artifact storage

# Your Cloudflare Account ID (found in dashboard URL or account settings)
CLOUDFLARE_ACCOUNT_ID="your-cloudflare-account-id"

# R2 API Token credentials (create at R2 > Manage R2 API Tokens)
CLOUDFLARE_ACCESS_KEY_ID="your-r2-access-key-id"
CLOUDFLARE_SECRET_ACCESS_KEY="your-r2-secret-access-key"

# R2 Bucket name (create at R2 > Create Bucket)
R2_BUCKET_NAME="spec-driven-artifacts"

# ============================================================================
# OPTIONAL: OBSERVABILITY & LOGGING
# ============================================================================
# Enable detailed logging for debugging
# LOG_LEVEL=debug

# ============================================================================
# PRODUCTION CHECKLIST
# ============================================================================
# Before deploying to production:
# [ ] Generate new JWT_SECRET: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# [ ] Set NODE_ENV=production
# [ ] Update NEXT_PUBLIC_APP_URL to production domain
# [ ] Update AUTH_BASE_URL to production domain
# [ ] Update ALLOWED_ORIGINS to production domain
# [ ] Use production Neon database instance
# [ ] Configure Cloudflare R2 bucket and API tokens
# [ ] Set GOOGLE_CLIENT_ID and GOOGLE_CLIENT_SECRET if using OAuth
# [ ] Configure SMTP for email notifications (if needed)
# [ ] Use environment variables from deployment platform (Vercel, AWS, etc.)
# [ ] NEVER commit secrets to git
